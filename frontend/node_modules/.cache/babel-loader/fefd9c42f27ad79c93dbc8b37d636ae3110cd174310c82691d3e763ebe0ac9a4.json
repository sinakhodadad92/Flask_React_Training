{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isTokenExpired = void 0;\nvar base64_1 = require(\"./utils/base64\");\nexports.isTokenExpired = function (token, thresholdMillisec, logger) {\n  return isTimestampExpired(jwtExp(token, logger), thresholdMillisec, logger);\n};\nvar jwtExp = function (token, logger) {\n  var split = token.split('.');\n  logger === null || logger === void 0 ? void 0 : logger.log('jwtExp', 'split', split);\n  if (split.length < 2) {\n    return null;\n  }\n  try {\n    var middlePart = base64_1.Base64.decode(token.split('.')[1]);\n    logger === null || logger === void 0 ? void 0 : logger.log('jwtExp', 'middlePart', middlePart);\n    var jwt = JSON.parse(middlePart);\n    logger === null || logger === void 0 ? void 0 : logger.log('jwtExp', 'jwt', jwt);\n    if (jwt && jwt.exp && Number.isFinite(jwt.exp)) {\n      return jwt.exp * 1000;\n    } else {\n      return null;\n    }\n  } catch (e) {\n    // tslint:disable-next-line:no-console\n    console.warn(e);\n    return null;\n  }\n};\nvar isTimestampExpired = function (exp, thresholdMillisec, logger) {\n  logger === null || logger === void 0 ? void 0 : logger.log('isTimestampExpired', 'exp', exp);\n  if (!exp) {\n    return false;\n  }\n  logger === null || logger === void 0 ? void 0 : logger.log('isTimestampExpired', 'Date.now()', Date.now());\n  logger === null || logger === void 0 ? void 0 : logger.log('isTimestampExpired', '(thresholdMillisec ?? 0', thresholdMillisec !== null && thresholdMillisec !== void 0 ? thresholdMillisec : 0);\n  return Date.now() > exp - (thresholdMillisec !== null && thresholdMillisec !== void 0 ? thresholdMillisec : 0);\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","isTokenExpired","base64_1","require","token","thresholdMillisec","logger","isTimestampExpired","jwtExp","split","log","length","middlePart","Base64","decode","jwt","JSON","parse","exp","Number","isFinite","e","console","warn","Date","now"],"sources":["/Users/sinakhodadad/Documents/Projects/Flask_React/frontend/node_modules/react-token-auth/lib/isTokenExpired.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTokenExpired = void 0;\nvar base64_1 = require(\"./utils/base64\");\nexports.isTokenExpired = function (token, thresholdMillisec, logger) {\n    return isTimestampExpired(jwtExp(token, logger), thresholdMillisec, logger);\n};\nvar jwtExp = function (token, logger) {\n    var split = token.split('.');\n    logger === null || logger === void 0 ? void 0 : logger.log('jwtExp', 'split', split);\n    if (split.length < 2) {\n        return null;\n    }\n    try {\n        var middlePart = base64_1.Base64.decode(token.split('.')[1]);\n        logger === null || logger === void 0 ? void 0 : logger.log('jwtExp', 'middlePart', middlePart);\n        var jwt = JSON.parse(middlePart);\n        logger === null || logger === void 0 ? void 0 : logger.log('jwtExp', 'jwt', jwt);\n        if (jwt && jwt.exp && Number.isFinite(jwt.exp)) {\n            return jwt.exp * 1000;\n        }\n        else {\n            return null;\n        }\n    }\n    catch (e) {\n        // tslint:disable-next-line:no-console\n        console.warn(e);\n        return null;\n    }\n};\nvar isTimestampExpired = function (exp, thresholdMillisec, logger) {\n    logger === null || logger === void 0 ? void 0 : logger.log('isTimestampExpired', 'exp', exp);\n    if (!exp) {\n        return false;\n    }\n    logger === null || logger === void 0 ? void 0 : logger.log('isTimestampExpired', 'Date.now()', Date.now());\n    logger === null || logger === void 0 ? void 0 : logger.log('isTimestampExpired', '(thresholdMillisec ?? 0', thresholdMillisec !== null && thresholdMillisec !== void 0 ? thresholdMillisec : 0);\n    return Date.now() > exp - (thresholdMillisec !== null && thresholdMillisec !== void 0 ? thresholdMillisec : 0);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}