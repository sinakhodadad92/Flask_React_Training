{"ast":null,"code":"import { createAuthProvider } from 'react-token-auth';\nexport const [useAuth, authFetch, login, logout] = createAuthProvider({});\ncreateAuthProvider({\n  accessTokenKey: 'access_token',\n  onUpdateToken: token => fetch('auth/refresh', {\n    method: 'POST',\n    body: token.refresh_token\n  }).then(r => r.json())\n});\n\n// type Session = { accessToken: string; refreshToken: string };\n\n// export const { useAuth, authFetch, login, logout } = createAuthProvider<Session>({\n//   getAccessToken: session => session.accessToken,\n//   storage: localStorage,\n//   onUpdateToken: token =>\n//       fetch('/update-token', {\n//           method: 'POST',\n//           body: token.refreshToken,\n//       }).then(r => r.json()),\n// });","map":{"version":3,"names":["createAuthProvider","useAuth","authFetch","login","logout","accessTokenKey","onUpdateToken","token","fetch","method","body","refresh_token","then","r","json"],"sources":["/Users/sinakhodadad/Documents/Projects/Flask_React/frontend/src/auth.js"],"sourcesContent":["import { createAuthProvider } from 'react-token-auth';\n\nexport const [useAuth, authFetch, login, logout] = createAuthProvider({});\n  createAuthProvider({\n    accessTokenKey: 'access_token',\n    onUpdateToken: (token) => fetch('auth/refresh', {\n      method: 'POST',\n      body: token.refresh_token\n    })\n    .then(r => r.json())\n});\n\n// type Session = { accessToken: string; refreshToken: string };\n\n// export const { useAuth, authFetch, login, logout } = createAuthProvider<Session>({\n//   getAccessToken: session => session.accessToken,\n//   storage: localStorage,\n//   onUpdateToken: token =>\n//       fetch('/update-token', {\n//           method: 'POST',\n//           body: token.refreshToken,\n//       }).then(r => r.json()),\n// });"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,kBAAkB;AAErD,OAAO,MAAM,CAACC,OAAO,EAAEC,SAAS,EAAEC,KAAK,EAAEC,MAAM,CAAC,GAAGJ,kBAAkB,CAAC,CAAC,CAAC,CAAC;AACvEA,kBAAkB,CAAC;EACjBK,cAAc,EAAE,cAAc;EAC9BC,aAAa,EAAGC,KAAK,IAAKC,KAAK,CAAC,cAAc,EAAE;IAC9CC,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEH,KAAK,CAACI;EACd,CAAC,CAAC,CACDC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC;AACvB,CAAC,CAAC;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}