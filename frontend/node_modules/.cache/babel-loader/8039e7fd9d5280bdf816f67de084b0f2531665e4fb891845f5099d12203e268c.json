{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createUseAuth = void 0;\nvar react_1 = require(\"react\");\nexports.createUseAuth = function (_a) {\n  var getSessionState = _a.getSessionState,\n    onHydratation = _a.onHydratation,\n    listenersContainer = _a.listenersContainer;\n  return function () {\n    var _a = react_1.useState(null),\n      session = _a[0],\n      setSession = _a[1];\n    var updateIsLoggedIn = function () {\n      var actualSession = getSessionState();\n      if (onHydratation) {\n        onHydratation(actualSession);\n      }\n      setSession(actualSession);\n    };\n    react_1.useEffect(function () {\n      updateIsLoggedIn();\n    }, []);\n    var listener = react_1.useCallback(function () {\n      updateIsLoggedIn();\n    }, []);\n    react_1.useEffect(function () {\n      listenersContainer.subscribe(listener);\n      return function () {\n        listenersContainer.unsubscribe(listener);\n      };\n    }, [listener]);\n    return [isLoggedIn(session), session];\n  };\n};\nvar isLoggedIn = function (session) {\n  return !!session;\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","createUseAuth","react_1","require","_a","getSessionState","onHydratation","listenersContainer","useState","session","setSession","updateIsLoggedIn","actualSession","useEffect","listener","useCallback","subscribe","unsubscribe","isLoggedIn"],"sources":["/Users/sinakhodadad/Documents/Projects/Flask_React/frontend/node_modules/react-token-auth/lib/useAuth.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createUseAuth = void 0;\nvar react_1 = require(\"react\");\nexports.createUseAuth = function (_a) {\n    var getSessionState = _a.getSessionState, onHydratation = _a.onHydratation, listenersContainer = _a.listenersContainer;\n    return function () {\n        var _a = react_1.useState(null), session = _a[0], setSession = _a[1];\n        var updateIsLoggedIn = function () {\n            var actualSession = getSessionState();\n            if (onHydratation) {\n                onHydratation(actualSession);\n            }\n            setSession(actualSession);\n        };\n        react_1.useEffect(function () {\n            updateIsLoggedIn();\n        }, []);\n        var listener = react_1.useCallback(function () {\n            updateIsLoggedIn();\n        }, []);\n        react_1.useEffect(function () {\n            listenersContainer.subscribe(listener);\n            return function () {\n                listenersContainer.unsubscribe(listener);\n            };\n        }, [listener]);\n        return [isLoggedIn(session), session];\n    };\n};\nvar isLoggedIn = function (session) { return !!session; };\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,aAAa,GAAG,KAAK,CAAC;AAC9B,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9BJ,OAAO,CAACE,aAAa,GAAG,UAAUG,EAAE,EAAE;EAClC,IAAIC,eAAe,GAAGD,EAAE,CAACC,eAAe;IAAEC,aAAa,GAAGF,EAAE,CAACE,aAAa;IAAEC,kBAAkB,GAAGH,EAAE,CAACG,kBAAkB;EACtH,OAAO,YAAY;IACf,IAAIH,EAAE,GAAGF,OAAO,CAACM,QAAQ,CAAC,IAAI,CAAC;MAAEC,OAAO,GAAGL,EAAE,CAAC,CAAC,CAAC;MAAEM,UAAU,GAAGN,EAAE,CAAC,CAAC,CAAC;IACpE,IAAIO,gBAAgB,GAAG,SAAAA,CAAA,EAAY;MAC/B,IAAIC,aAAa,GAAGP,eAAe,CAAC,CAAC;MACrC,IAAIC,aAAa,EAAE;QACfA,aAAa,CAACM,aAAa,CAAC;MAChC;MACAF,UAAU,CAACE,aAAa,CAAC;IAC7B,CAAC;IACDV,OAAO,CAACW,SAAS,CAAC,YAAY;MAC1BF,gBAAgB,CAAC,CAAC;IACtB,CAAC,EAAE,EAAE,CAAC;IACN,IAAIG,QAAQ,GAAGZ,OAAO,CAACa,WAAW,CAAC,YAAY;MAC3CJ,gBAAgB,CAAC,CAAC;IACtB,CAAC,EAAE,EAAE,CAAC;IACNT,OAAO,CAACW,SAAS,CAAC,YAAY;MAC1BN,kBAAkB,CAACS,SAAS,CAACF,QAAQ,CAAC;MACtC,OAAO,YAAY;QACfP,kBAAkB,CAACU,WAAW,CAACH,QAAQ,CAAC;MAC5C,CAAC;IACL,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;IACd,OAAO,CAACI,UAAU,CAACT,OAAO,CAAC,EAAEA,OAAO,CAAC;EACzC,CAAC;AACL,CAAC;AACD,IAAIS,UAAU,GAAG,SAAAA,CAAUT,OAAO,EAAE;EAAE,OAAO,CAAC,CAACA,OAAO;AAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}